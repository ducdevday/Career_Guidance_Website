<app-standard-title title="Chapter Detail"></app-standard-title>
<div class="mt-4">
  <app-standard-card>
    <app-standard-options
      [showSave]="true"
      [showClose]="true"
      (buttonClick)="onActionClick($event)"
      [buttons]="buttons"
    ></app-standard-options>
    <p-tabView [(activeIndex)]="activeIndex">
      <p-tabPanel header="General">
        <div class="flex flex-col gap-3">
          <div
            class="relative border-2 border-dashed border-gray-300 rounded-lg w-[300px] h-48 cursor-pointer overflow-hidden ml-auto mr-auto mt-10"
            [ngClass]="{ group: thumbnail }"
            (click)="fileInput.click()"
          >
            <img
              *ngIf="thumbnail"
              [src]="thumbnail"
              class="w-full h-full object-cover"
              alt="Thumbnail"
            />

            <div
              *ngIf="!thumbnail"
              class="flex items-center justify-center w-full h-full"
            >
              <div class="text-center">
                <img
                  src="https://img.icons8.com/ios/50/image--v1.png"
                  class="w-10 h-10 mx-auto mb-2"
                />
                <p class="text-sm text-gray-500">Upload Image</p>
              </div>
            </div>

            <div
              *ngIf="thumbnail"
              class="absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition"
            >
              <div class="flex flex-col gap-2 items-center">
                <i class="pi pi-upload" style="color: #fff"></i>
                <span style="color: #fff">Upload Thumbnail</span>
              </div>
            </div>

            <input
              type="file"
              #fileInput
              hidden
              (change)="onFileSelected($event)"
              accept="image/*"
            />
          </div>
          <div>
            <app-standard-input-label> Name </app-standard-input-label>
            <input
              type="text"
              pInputText
              class="w-full"
              placeholder="Title"
              formControlName="title"
            />
          </div>
        </div>
      </p-tabPanel>
      <p-tabPanel header="Lessons">
       <p-table [value]="lessons" stripedRows>
        <ng-template pTemplate="header">
          <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Numerical order</th>
            <th>Created Date </th>
            <th>Detail</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-lesson>
          <tr>
            <td class="text-sm text-blackShade-main font-normal">{{ lesson.id }}</td>
            <td class="text-sm text-blackShade-main font-normal">{{ lesson.name }}</td>
            <td class="text-sm text-blackShade-main font-normal">{{ lesson.numericalOrder }}</td>
            <td class="text-sm text-blackShade-main font-normal">{{ lesson.createdDate }}</td>
            <td class="text-sm text-blackShade-main font-normal"><span class="text-sm text-primary-main font-bold cursor-pointer">Show</span></td>
          </tr>
        </ng-template>
      </p-table>
      </p-tabPanel>
    </p-tabView>
  </app-standard-card>
</div>
